services:
 nginx:
  build: requirements/nginx/.
  container_name: nginx
  depends_on:
   - wordpress
   - mariadb
  ports:
   - "8080:80"
  volumes:
   - ./web:/var/www/html
  networks:
   - inception
 wordpress:
  build: requirements/wordpress/.
  container_name: wp-php
  # volumes:
  #   - ./web:/var/www/html
  networks:
   - inception
  depends_on:
   - mariadb
  environment:
   - WORDPRESS_DB_USER=wpuser
   - WORDPRESS_DB_PASSWORD=password
   - WORDPRESS_DB_NAME=wordpress
   - WORDPRESS_DB_HOST=mariadb
   - WORDPRESS_DB_PORT=3306
 mariadb:
  build: requirements/mariadb/.
  container_name: mariadb
  # volumes:
  # - ./database:/var/lib/mysql
  networks:
  - inception
  environment:
   - MYSQL_ROOT_HOST=host
   - MYSQL_ROOT_PASSWORD=password
   - MYSQL_DATABASE=wordpress
   - MYSQL_USER=wpuser
   - MYSQL_PASSWORD=password

networks:
 inception: {}